@model IEnumerable<ST_Invoicing.Models.ST_Purchase>

@{
    ViewBag.Title = "南臺灣-採購列表";
}

<script>
    $(document).ready(function () {
        $("#ST_Purchase").addClass("active");
    });
</script>

<h2>採購列表</h2>

<p>
    <input type="button" class="btn btn-primary" value="新增採購" onclick="location.href='@Url.Action("Create", "ST_Purchase")'" />
</p>

@using (Html.BeginForm())
{
    <div class="form-inline">
        <div class="form-group">
            <div class="col-xs-6 col-md-4">
                <h5> 查看日期區間:</h5>
            </div>
            <div class="col-xs-6 col-md-6">
                @Html.TextBox("daterange", new DateTime(DateTime.Now.Year, DateTime.Now.Month, 1) + "~" + new DateTime(DateTime.Now.AddMonths(1).Year, DateTime.Now.AddMonths(1).Month, 1).AddDays(-1), new { @class = "form-control" })
            </div>
            <div class="col-xs-6 col-md-2">
                <input type="submit" value="查詢" class="btn btn-info" />
            </div>
        </div>
    </div>
}  


<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.purchase_date)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.item_name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.purchase_price)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.vendor_name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.emp_name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.remark)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {

        <tr>

            <td>
                <font color=@item.font_Color>
                    @Html.DisplayFor(modelItem => item.display_Date)
                </font>
            </td>
            <td>
                <font color=@item.font_Color>
                    @Html.DisplayFor(modelItem => item.item_name)
                </font>
            </td>
            <td>
                <font color=@item.font_Color>
                    @Html.DisplayFor(modelItem => item.purchase_price)
                </font>
            </td>
            <td>
                <font color=@item.font_Color>
                    @Html.DisplayFor(modelItem => item.vendor_name)
                </font>
            </td>
            <td>
                <font color=@item.font_Color>
                    @Html.DisplayFor(modelItem => item.emp_name)
                </font>
            </td>
            <td>
                <font color=@item.font_Color>
                    @Html.DisplayFor(modelItem => item.remark)
                </font>
            </td>
            <td>
                <input type="button" class="btn btn-warning" value="編輯" onclick="location.href='@Url.Action("Edit", "ST_Purchase", new { id = item.serno })'" />
                <input type="button" class="btn btn-danger" value="刪除" onclick="location.href='@Url.Action("Delete", "ST_Purchase", new { id = item.serno })'" />
            </td>
        </tr>

    }

</table>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $(document).ready(function () {
           
            $('input[name="daterange"]').daterangepicker({
                locale: {
                    format: 'YYYY/MM/DD'
                }
            });
        });
    </script>
}


